<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <ui:include src="head.xhtml"/>
  
  <f:metadata>
  	<f:event type="preRenderView" listener="#{profileController.loadProfiles()}"/>
  </f:metadata>
  
  <h:body>
  	<ui:include src="nav.xhtml"/>
  		<section class="container">
            
                <h1 class="large text-primary">Developers</h1>
                <p class="lead">
                    <i class="fab fa-connectdevelop"></i>
                    Browse and connect with developers
                </p>
              	#{profileController.profiles}
                <div class="profiles">
                
                   <ui:repeat var="item" value="#{profileController.profiles}">
                       <div class="profile bg-light">
                       	 <h:panelGroup rendered="#{profile.email == null}">
                  			<h:graphicImage rendered="#{profile.avatar == null}" class="round-img" value="/resources/img/gravatar.png"/>
                  			<h:graphicImage rendered="#{profile.avatar != null}" class="round-img" value="#{profile.avatar}"/>
	                      
				            <div>
				                <h2>#{item.name}</h2>
				                <p>#{item.status} <span>at #{item.company}</span></p>
				                <p class="my-1"> <span>#{item.location}</span></p>
				                <h:form>
				                	<h:commandLink action="#{profileController.loadProfile(item.id)}" value="View profile" class="btn btn-primary"/>
				            	</h:form>
				            </div>
				            <ul>
				                
				                <ui:repeat var="" value="">
					                <li class='text-primary'>
					                    <i class="fas fa-check"></i>#{item.skills}
					                </li>
				                </ui:repeat>
				          
				            </ul>
				            
				         </h:panelGroup>
				          <h:panelGroup rendered="#{profile.email != null}">
		              		<h4>No profiles found</h4>
		              	</h:panelGroup>  
	        			</div>
	                  </ui:repeat>
	                  
	              
		            
	               </div>
     
        </section>

  </h:body>
</html>